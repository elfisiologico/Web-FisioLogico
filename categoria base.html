<<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Categoría · El FisioLógico</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Repositorio científico en fisioterapia basado en análisis crítico de la evidencia." />
  <meta name="author" content="El FisioLógico" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

  <!-- Base CSS -->
  <link rel="stylesheet" href="../assets/css/base.css">

  <!-- Estilos locales -->
  <style>
    .article-link{display:block;color:inherit;text-decoration:none}
    .article-card-header{display:flex;justify-content:space-between;gap:1rem}
    .score-badge{font-family:var(--font-mono);font-size:.85rem;font-weight:600;color:var(--accent);border:1px solid var(--accent);padding:.25rem .5rem;border-radius:4px;white-space:nowrap}

    .filters{display:flex;gap:1.5rem;flex-wrap:wrap;margin-bottom:.75rem}
    .filters label{display:flex;flex-direction:column;gap:.35rem;font-family:var(--font-mono);font-size:.75rem;letter-spacing:.08em;text-transform:uppercase}
    .filters select{background:#0f0f0f;color:#fff;border:1px solid #2a2a2a;padding:.45rem .6rem;border-radius:4px;font-size:.85rem}
    .filters select:focus{outline:none;border-color:var(--accent)}

    .filters-note{font-size:.75rem;color:var(--muted);max-width:720px}

    .recommended-tag{display:inline-block;font-size:.65rem;font-family:var(--font-mono);letter-spacing:.08em;text-transform:uppercase;color:#000;background:var(--accent);padding:.15rem .35rem;border-radius:3px;margin-bottom:.35rem}

    .no-results{display:none;font-size:.9rem;color:var(--muted);margin-top:1.5rem}
  </style>
</head>

<body>

<header style="border-bottom:1px solid #1f1f1f;margin-bottom:3rem">
  <div style="max-width:1100px;margin:auto;padding:1.5rem 1.25rem;display:flex;justify-content:space-between">
    <a href="../categorias/index.html" style="text-decoration:none">
      <strong>Fisio</strong><strong style="color:#FCBF06">Lógico</strong>
    </a>
    <span class="mono muted" style="font-size:.75rem;letter-spacing:.12em;text-transform:uppercase">Categoría</span>
  </div>
</header>

<main style="max-width:1100px;margin:auto;padding:0 1.25rem">

<nav style="margin-bottom:2.5rem">
  <a href="../categorias/index.html" class="mono muted">← Volver al repositorio</a>
</nav>

<header style="margin-bottom:3rem">
  <h1>NOMBRE DE LA CATEGORÍA</h1>
  <p class="muted" style="max-width:720px;font-size:1.1rem">Descripción editorial y clínica de la categoría.</p>
  <p class="muted" id="categoryStatus" style="font-size:.85rem;margin-top:.75rem"></p>
</header>

<section class="card">
  <h2>Filtrar artículos</h2>

  <div class="filters">
    <label>Año
      <select id="yearFilter"><option value="all">Todos</option></select>
    </label>
    <label>Score mínimo
      <select id="scoreFilter">
        <option value="20" selected>≥ 20 / 30</option>
        <option value="15">≥ 15 / 30</option>
        <option value="all">Todos</option>
      </select>
    </label>
    <label>Nivel
      <select id="tierFilter">
        <option value="all">Todos</option>
        <option value="solida">Sólida</option>
        <option value="moderada">Moderada</option>
        <option value="exploratoria">Exploratoria</option>
      </select>
    </label>
  </div>

  <p class="filters-note">
    El score refleja calidad metodológica y transferencia clínica, no popularidad.
  </p>
</section>

<section class="card">
  <h2>Artículos recomendados</h2>
  <div id="recommendedList"></div>
</section>

<section class="card">
  <h2>Artículos disponibles</h2>
  <div id="articlesList"></div>
  <p class="no-results" id="noResults">
    No hay artículos que cumplan los filtros actuales.
  </p>
</section>

</main>

<footer style="margin-top:4rem;border-top:1px solid #1f1f1f">
  <div style="max-width:1100px;margin:auto;padding:2rem 1.25rem;display:flex;justify-content:space-between">
    <strong>Fisio<span style="color:#FCBF06">Lógico</span></strong>
    <p class="muted" style="font-size:.75rem">© El FisioLógico · Categoría</p>
  </div>
</footer>

<script>
(function(){
  const cards=[...document.querySelectorAll('.article-card')]
  if(!cards.length)return

  const list=document.getElementById('articlesList')
  const rec=document.getElementById('recommendedList')
  const year=document.getElementById('yearFilter')
  const score=document.getElementById('scoreFilter')
  const tier=document.getElementById('tierFilter')
  const noResults=document.getElementById('noResults')
  const status=document.getElementById('categoryStatus')

  cards.sort((a,b)=>b.dataset.score-a.dataset.score)

  const years=[...new Set(cards.map(c=>c.dataset.year))].sort((a,b)=>b-a)
  years.forEach(y=>year.add(new Option(y,y)))

  function apply(){
    let visible=0
    list.innerHTML=''
    rec.innerHTML=''

    cards.forEach(c=>{
      const ok=
        (year.value==='all'||c.dataset.year===year.value)&&
        (score.value==='all'||+c.dataset.score>=+score.value)&&
        (tier.value==='all'||c.dataset.tier===tier.value)

      if(ok){
        visible++
        if(c.dataset.recommended==='true')rec.appendChild(c)
        else list.appendChild(c)
      }
    })

    noResults.style.display=visible? 'none':'block'
    status.textContent=`Estado de la evidencia: ${visible<5?'categoría en desarrollo':'categoría consolidada'} (n = ${visible} artículos).`
  }

  year.onchange=score.onchange=tier.onchange=apply
  apply()
})();
</script>

</body>
</html>
